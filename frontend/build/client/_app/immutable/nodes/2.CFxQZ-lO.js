import{c as A,a as m,e as k,f as h,s as C}from"../chunks/CXN8AEkE.js";import{i as E}from"../chunks/Ba5BHlZf.js";import{m as G,n as H,o as I,q as i,r as o,t as n,a,v as b,s as t,w as Q}from"../chunks/DrZxtosp.js";import{i as M}from"../chunks/C09UTFEA.js";import{r as B}from"../chunks/DJ05b8fX.js";import{b as L}from"../chunks/BMwTRFU8.js";import{p as U}from"../chunks/CWmzcjye.js";import{s as V,a as W}from"../chunks/DbI0K5eF.js";import{s as X,a as O,b as Y}from"../chunks/C0-kHXY5.js";var ee=h('<p class="text-muted"> </p>'),se=h('<section class="auth-screen"><div class="auth-card"><form class="form-grid auth-form"><div class="field"><label for="username">Benutzername</label> <input id="username" class="input" type="text" placeholder="z.B. max"/></div> <div class="field"><label for="password">Passwort</label> <input id="password" class="input" type="password" placeholder="Mind. 8 Zeichen"/></div> <div class="actions"><button class="btn btn-primary" type="submit">Login</button> <button class="btn btn-outline" type="button">Registrieren</button></div> <!></form></div></section>'),ae=h('<section class="card-grid grid-3"><div class="card"><h3 class="section-title">Kalender</h3> <p class="text-muted">Termine verwalten, abonnieren und synchron halten.</p> <a class="btn btn-outline" href="/calendar">Zum Kalender</a></div> <div class="card"><h3 class="section-title">Material</h3> <p class="text-muted">Material sauber erfassen, Lagerorte und Mengen im Blick behalten.</p> <a class="btn btn-outline" href="/inventory">Zum Material</a></div></section>');function pe(S,T){G(T,!1);const $=()=>W(X,"$session",P),[P,R]=V();let c=b(""),d=b(""),e=b("");const Z=async()=>{t(e,"");try{const s=await O("/api/auth/login",{method:"POST",body:JSON.stringify({username:a(c),password:a(d)})});Y(s.token),t(e,"Login erfolgreich.")}catch{t(e,"Login fehlgeschlagen.")}},z=async()=>{t(e,"");try{await O("/api/auth/register",{method:"POST",body:JSON.stringify({username:a(c),password:a(d)})}),t(e,"Registrierung abgeschlossen. Bitte einloggen.")}catch{t(e,"Registrierung fehlgeschlagen.")}};E();var _=A(),J=H(_);{var K=s=>{var l=se(),y=i(l),p=i(y),u=i(p),w=o(i(u),2);B(w),n(u);var v=o(u,2),x=o(i(v),2);B(x),n(v);var f=o(v,2),q=o(i(f),2);n(f);var D=o(f,2);{var F=r=>{var g=ee(),j=i(g,!0);n(g),Q(()=>C(j,a(e))),m(r,g)};M(D,r=>{a(e)&&r(F)})}n(p),n(y),n(l),L(w,()=>a(c),r=>t(c,r)),L(x,()=>a(d),r=>t(d,r)),k("click",q,z),k("submit",p,U(Z)),m(s,l)},N=s=>{var l=ae();m(s,l)};M(J,s=>{$()?s(N,!1):s(K)})}m(S,_),I(),R()}export{pe as component};
